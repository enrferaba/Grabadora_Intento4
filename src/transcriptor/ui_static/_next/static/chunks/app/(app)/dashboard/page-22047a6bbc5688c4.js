(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{3504:function(e,t,n){Promise.resolve().then(n.bind(n,5230))},5230:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var s=n(7437),a=n(932);function i(e){let{title:t,value:n,footer:a,icon:i}=e;return(0,s.jsxs)("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900/60 p-4 shadow-lg shadow-black/40",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-zinc-400",children:[(0,s.jsx)("span",{children:t}),i]}),(0,s.jsx)("div",{className:"mt-3 text-2xl font-semibold text-white",children:n}),a?(0,s.jsx)("div",{className:"mt-2 text-xs text-zinc-500",children:a}):null]})}var r=n(584),c=n(8030);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,c.Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),o=(0,c.Z)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var d=n(2023),x=n(1266);async function h(e,t){var n;let s=await fetch((0,x.f8)(e),{...t,headers:{...x.Zn,...null!==(n=null==t?void 0:t.headers)&&void 0!==n?n:{}},cache:"no-store"});if(!s.ok)throw Error("Error ".concat(s.status));return s.json()}function u(){return h("/health")}function m(){var e,t;let{data:n}=(0,a.a)({queryKey:["health"],queryFn:u,refetchInterval:1e4}),c=null!=n?n:{status:"error",license:{plan:"desconocido"}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-white",children:"Panel general"}),(0,s.jsx)("p",{className:"text-sm text-zinc-500",children:"Supervisa el estado del backend local y la cola de trabajos."})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsx)(i,{title:"Estado API",value:"ok"===c.status?"Operativa":"Revisar",footer:"Licencia: ".concat(null!==(t=null===(e=c.license)||void 0===e?void 0:e.plan)&&void 0!==t?t:"N/A"),icon:(0,s.jsx)(l,{className:"h-5 w-5 text-brand-500"})}),(0,s.jsx)(i,{title:"Tiempo medio de resumen",value:"< 30 s",footer:"Objetivo para reuniones de 15 min",icon:(0,s.jsx)(o,{className:"h-5 w-5 text-brand-500"})}),(0,s.jsx)(i,{title:"Exportaciones disponibles",value:"DOCX / MD / JSON",footer:"Siempre offline",icon:(0,s.jsx)(d.Z,{className:"h-5 w-5 text-brand-500"})})]}),(0,s.jsxs)("section",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Trabajos recientes"}),(0,s.jsx)("p",{className:"text-sm text-zinc-500",children:"Monitorea la cola en tiempo real. Se actualiza autom\xe1ticamente."})]}),(0,s.jsx)(r.Q,{})]})]})}},584:function(e,t,n){"use strict";n.d(t,{Q:function(){return c}});var s=n(7437),a=n(932),i=n(3274),r=n(6640);function c(){var e;let{data:t,isLoading:n}=(0,a.a)({queryKey:["jobs"],queryFn:r.b,refetchInterval:5e3});if(n)return(0,s.jsxs)("div",{className:"flex items-center justify-center py-10 text-zinc-400",children:[(0,s.jsx)(i.Z,{className:"mr-2 h-5 w-5 animate-spin"})," Cargando trabajos…"]});let c=null!==(e=null==t?void 0:t.jobs)&&void 0!==e?e:[];return c.length?(0,s.jsx)("div",{className:"overflow-hidden rounded-xl border border-zinc-800",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-zinc-800",children:[(0,s.jsx)("thead",{className:"bg-zinc-900/80 text-xs uppercase tracking-wide text-zinc-500",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Archivo"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Estado"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Progreso"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Duraci\xf3n"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Actualizado"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-zinc-800 text-sm text-zinc-300",children:c.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-zinc-900/60",children:[(0,s.jsx)("td",{className:"px-4 py-3 font-medium text-white",children:e.filename}),(0,s.jsx)("td",{className:"px-4 py-3 capitalize text-zinc-400",children:e.status}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-2 flex-1 overflow-hidden rounded-full bg-zinc-800",children:(0,s.jsx)("div",{className:"h-2 rounded-full bg-brand-500",style:{width:"".concat(Math.min(e.progress,100),"%")}})}),(0,s.jsxs)("span",{className:"w-12 text-right text-xs text-zinc-400",children:[Math.round(e.progress),"%"]})]})}),(0,s.jsx)("td",{className:"px-4 py-3 text-xs text-zinc-400",children:e.duration_seconds?"".concat(Math.round(e.duration_seconds)," s"):"—"}),(0,s.jsx)("td",{className:"px-4 py-3 text-xs text-zinc-500",children:new Date(e.updated_at).toLocaleTimeString("es-ES")})]},e.id))})]})}):(0,s.jsx)("div",{className:"rounded-lg border border-dashed border-zinc-800 p-6 text-center text-zinc-500",children:"A\xfan no hay trabajos en la cola."})}},1266:function(e,t,n){"use strict";var s,a;n.d(t,{Zn:function(){return l},f8:function(){return c}});let i=null===(s=n(357).env.NEXT_PUBLIC_API_URL)||void 0===s?void 0:s.trim(),r=i&&null!==(a=function(e){try{let t=new URL(e);return t.pathname="",t.search="",t.hash="",t.toString().replace(/\/$/,"")}catch(e){return null}}(i))&&void 0!==a?a:"";function c(e){let t=r||(window.location?window.location.origin.replace(/\/$/,""):""),n=e.startsWith("/")?e:"/".concat(e);return t?"".concat(t).concat(n):n}i&&!r&&console.warn("[solo-local] NEXT_PUBLIC_API_URL inv\xe1lida: ".concat(i));let l={"Content-Type":"application/json"}},6640:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var s=n(1266);async function a(){let e=await fetch((0,s.f8)("/jobs"),{cache:"no-store"});if(!e.ok)throw Error("No se pudieron cargar los trabajos");return e.json()}},2023:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(8030).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3274:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(8030).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},function(e){e.O(0,[336,954,971,23,744],function(){return e(e.s=3504)}),_N_E=e.O()}]);