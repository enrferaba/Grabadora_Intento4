(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[853],{897:function(e,t,n){Promise.resolve().then(n.bind(n,8830))},8830:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var s=n(7437),a=n(584);function c(){return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-white",children:"Cola de trabajos"}),(0,s.jsx)("p",{className:"text-sm text-zinc-500",children:"Estado en vivo de todas las transcripciones y res\xfamenes."})]}),(0,s.jsx)(a.Q,{})]})}},584:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var s=n(7437),a=n(932),c=n(3274),r=n(6640);function i(){var e;let{data:t,isLoading:n}=(0,a.a)({queryKey:["jobs"],queryFn:r.b,refetchInterval:5e3});if(n)return(0,s.jsxs)("div",{className:"flex items-center justify-center py-10 text-zinc-400",children:[(0,s.jsx)(c.Z,{className:"mr-2 h-5 w-5 animate-spin"})," Cargando trabajos…"]});let i=null!==(e=null==t?void 0:t.jobs)&&void 0!==e?e:[];return i.length?(0,s.jsx)("div",{className:"overflow-hidden rounded-xl border border-zinc-800",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-zinc-800",children:[(0,s.jsx)("thead",{className:"bg-zinc-900/80 text-xs uppercase tracking-wide text-zinc-500",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Archivo"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Estado"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Progreso"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Duraci\xf3n"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left",children:"Actualizado"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-zinc-800 text-sm text-zinc-300",children:i.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-zinc-900/60",children:[(0,s.jsx)("td",{className:"px-4 py-3 font-medium text-white",children:e.filename}),(0,s.jsx)("td",{className:"px-4 py-3 capitalize text-zinc-400",children:e.status}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-2 flex-1 overflow-hidden rounded-full bg-zinc-800",children:(0,s.jsx)("div",{className:"h-2 rounded-full bg-brand-500",style:{width:"".concat(Math.min(e.progress,100),"%")}})}),(0,s.jsxs)("span",{className:"w-12 text-right text-xs text-zinc-400",children:[Math.round(e.progress),"%"]})]})}),(0,s.jsx)("td",{className:"px-4 py-3 text-xs text-zinc-400",children:e.duration_seconds?"".concat(Math.round(e.duration_seconds)," s"):"—"}),(0,s.jsx)("td",{className:"px-4 py-3 text-xs text-zinc-500",children:new Date(e.updated_at).toLocaleTimeString("es-ES")})]},e.id))})]})}):(0,s.jsx)("div",{className:"rounded-lg border border-dashed border-zinc-800 p-6 text-center text-zinc-500",children:"A\xfan no hay trabajos en la cola."})}},1266:function(e,t,n){"use strict";var s,a;n.d(t,{Zn:function(){return l},f8:function(){return i}});let c=null===(s=n(357).env.NEXT_PUBLIC_API_URL)||void 0===s?void 0:s.trim(),r=c&&null!==(a=function(e){try{let t=new URL(e);return t.pathname="",t.search="",t.hash="",t.toString().replace(/\/$/,"")}catch(e){return null}}(c))&&void 0!==a?a:"";function i(e){let t=r||(window.location?window.location.origin.replace(/\/$/,""):""),n=e.startsWith("/")?e:"/".concat(e);return t?"".concat(t).concat(n):n}c&&!r&&console.warn("[solo-local] NEXT_PUBLIC_API_URL inv\xe1lida: ".concat(c));let l={"Content-Type":"application/json"}},6640:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var s=n(1266);async function a(){let e=await fetch((0,s.f8)("/jobs"),{cache:"no-store"});if(!e.ok)throw Error("No se pudieron cargar los trabajos");return e.json()}},3274:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(8030).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},function(e){e.O(0,[336,954,971,23,744],function(){return e(e.s=897)}),_N_E=e.O()}]);